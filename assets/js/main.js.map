{"version":3,"sources":["webpack:///webpack/bootstrap b4c33668222b96a8743b","webpack:///./resources/js/main.js"],"names":["$","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","ca","split","i","length","c","charAt","substring","indexOf","isDesktop","window","matchMedia","matches","forEach","array","callback","scope","call","Comic","comicNode","comicZoomNode","querySelector","comicPositionNode","comicPageNodeList","querySelectorAll","prevLinkNodeList","nextLinkNodeList","toggleDynamicViewsNode","toggleFullScreenNode","currentPageNode","comicPageImageNodeList","comic","state","active","dynamicViews","fullscreen","width","height","pageWidth","pageHeight","nextLink","prevLink","currentPageId","currentViewId","images","pageViewsData","currentViewData","pageViewCount","positionPage","animate","scrollTop","offset","top","getProperties","offsetWidth","offsetHeight","setLinks","views","prevPageId","prevViewId","index","prevLinkNode","classList","remove","add","nextPageId","nextViewId","nextLinkNode","node","setAttribute","innerText","loadImage","pageId","image","src","removeAttribute","updatePage","pos","x","Math","round","left","y","scaleX","min","scaleY","scale","style","msTransform","transform","comicPageNode","display","setLocation","page","view","ga","getLocation","location","hash","Number","viewId","fixHash","toggleDynamicViews","dynamicViewsState","handleHashchange","e","preventDefault","toggleFullscreen","Modernizr","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","handleKeydown","LEFT","RIGHT","SPACEBAR","body","onkeydown","keyCode","click","init","comicData","comicPageImageNode","getAttribute","addEventListener","hammertime","Hammer","on","requestAnimationFrame","mainComic","FB","ui","method","href","URL","jQuery"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b4c33668222b96a8743b","/* jshint esversion: 6 */\n(($) => {\n\n    const setCookie = function (cname, cvalue, exdays) {\n\n        const d = new Date();\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n\n        const expires = `expires=${d.toUTCString()}`;\n\n        document.cookie = `${cname}=${cvalue}; ${expires}; path=/`;\n\n    };\n\n    const getCookie = function (cname) {\n\n        const name = `${cname}=`;\n        const ca = document.cookie.split(';');\n\n        for (let i = 0; i < ca.length; i + 1) {\n            let c = ca[i];\n            while (c.charAt(0) === ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) === 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n\n        return '';\n\n    };\n\n    const isDesktop = function () {\n        return window.matchMedia('(min-width: 768px)').matches;\n    };\n\n    const forEach = function (array, callback, scope) {\n\n        for (let i = 0; i < array.length; i + 1) {\n            callback.call(scope, i, array[i]); // passes back stuff we need\n        }\n\n    };\n\n\n\n    const Comic = function (comicNode) {\n\n        // TODO page transitions in out\n        // TODO preload images\n\n        const comicZoomNode = comicNode.querySelector('.js-comic-wrapper-zoom');\n        const comicPositionNode = comicNode.querySelector('.js-comic-wrapper-position');\n\n        const comicPageNodeList = comicNode.querySelectorAll('.js-comic-page');\n\n        const prevLinkNodeList = document.querySelectorAll('.js-comic-prev-link');\n        const nextLinkNodeList = document.querySelectorAll('.js-comic-next-link');\n\n        const toggleDynamicViewsNode = document.querySelector('.js-comic-toggle-dynamic-views');\n        const toggleFullScreenNode = document.querySelector('.js-comic-toggle-fullscreen');\n\n        const currentPageNode = document.querySelector('.js-comic-current-page');\n\n        const comicPageImageNodeList = document.querySelectorAll('.js-comic-page-image');\n\n        let comic = [];\n\n        const state = {\n            active: false,\n            dynamicViews: false,\n            fullscreen: false,\n            width: 0,\n            height: 0,\n            pageWidth: 0,\n            pageHeight: 0,\n            nextLink: '#',\n            prevLink: '#',\n            currentPageId: 1,\n            currentViewId: 1,\n            images: {},\n        };\n\n        let pageViewsData = [];\n        let currentViewData = [];\n\n        let pageViewCount = 0;\n\n        const positionPage = () => {\n\n            $('html, body').animate({\n                scrollTop: $('#comic').offset().top - 20\n            }, 300);\n\n        };\n\n        const getProperties = () => {\n\n            state.width = comicNode.offsetWidth;\n            state.height = comicNode.offsetHeight;\n            state.pageWidth = comicPageNodeList[state.currentPageId - 1].offsetWidth;\n            state.pageHeight = comicPageNodeList[state.currentPageId - 1].offsetHeight;\n\n        };\n\n        // Using the state generate the links and update them in the DOM\n        const setLinks = () => {\n\n            let prevLink = '#1-1';\n            let nextLink = `#${comic.length}-${comic[comic.length - 1].views.length}`;\n\n            // Get the previous page/view link\n            if (state.currentPageId > 1 || state.currentViewId > 1) {\n\n                let prevPageId = state.currentPageId;\n                let prevViewId = state.currentViewId - 1;\n\n                if (state.currentViewId === 1) {\n                    prevPageId = state.currentPageId - 1;\n                    prevViewId = comic[prevPageId - 1].views.length;\n                }\n\n                if (!state.dynamicViews) {\n                    prevPageId = state.currentPageId - 1;\n                    prevViewId = 1;\n                }\n\n                prevLink = `#${prevPageId}-${prevViewId}`;\n\n                forEach(prevLinkNodeList, (index, prevLinkNode) => {\n                    prevLinkNode.classList.remove('is-disabled');\n                });\n\n            } else {\n\n                forEach(prevLinkNodeList, (index, prevLinkNode) => {\n                    prevLinkNode.classList.add('is-disabled');\n                });\n\n            }\n\n\n            // Get the next page/view link\n            if (!(state.currentPageId === comic.length &&\n                ((state.dynamicViews && state.currentViewId === comic[comic.length - 1].views.length) || !state.dynamicViews))) {\n\n                let nextPageId = state.currentPageId;\n                let nextViewId = state.currentViewId + 1;\n\n                if (state.currentViewId === pageViewCount || !state.dynamicViews) {\n                    nextPageId = state.currentPageId + 1;\n                    nextViewId = 1;\n                }\n\n                nextLink = `#${nextPageId}-${nextViewId}`;\n\n                forEach(nextLinkNodeList, (index, nextLinkNode) => {\n                    nextLinkNode.classList.remove('is-disabled');\n                });\n\n            } else {\n\n                forEach(nextLinkNodeList, (index, nextLinkNode) => {\n                    nextLinkNode.classList.add('is-disabled');\n                });\n\n            }\n\n            state.prevLink = prevLink;\n            state.nextLink = nextLink;\n\n            forEach(nextLinkNodeList, (index, node) => {\n                node.setAttribute('href', state.nextLink);\n            });\n\n            forEach(prevLinkNodeList, (index, node) => {\n                node.setAttribute('href', state.prevLink);\n            });\n\n            currentPageNode.innerText = state.currentPageId;\n\n        };\n\n\n\n        const loadImage = (pageId) => {\n\n            const image = state.images[pageId];\n\n            if (image) {\n\n                state.images[pageId].node.src = state.images[pageId].src;\n                state.images[pageId].node.removeAttribute('data-src');\n\n                delete state.images[pageId];\n\n            }\n\n        };\n\n\n\n        /**\n         * DOM updates for the page\n         */\n        const updatePage = () => {\n\n            if (state.dynamicViews) {\n\n                const pos = {\n                    x: Math.round((state.pageWidth - currentViewData.width) / 2) - currentViewData.left,\n                    y: Math.round((state.pageHeight - currentViewData.height) / 2) - currentViewData.top,\n                };\n\n                const scaleX = Math.min(state.width / (currentViewData.width + 20), 2);\n                const scaleY = Math.min(state.height / (currentViewData.height + 20), 2);\n\n                const scale = scaleX > scaleY ? scaleY : scaleX;\n\n                comicPositionNode.style.msTransform = `-ms-translate(${pos.x}px, ${pos.y}px, 0)`;\n                comicPositionNode.style.transform = `translate3d(${pos.x}px, ${pos.y}px, 0)`;\n\n                comicZoomNode.style.transform = `scale(${scale}, ${scale})`;\n\n            }\n\n            for (let i = 0; i < comicPageNodeList.length; i + 1) {\n\n                const comicPageNode = comicPageNodeList[i];\n\n                const display = i + 1 === state.currentPageId ? 'block' : 'none';\n\n                comicPageNode.style.display = display;\n\n            }\n\n        };\n\n\n\n        /**\n         * Update state with the \"location\" of the comic and trigger some\n         * follow up functions.\n         *\n         * @param  {number} page Page Id we're updating to\n         * @param  {number} view View Id we're updating to\n         */\n        const setLocation = (page = state.currentPageId, view = state.currentViewId) => {\n\n            if (state.currentPageId !== page) {\n\n                positionPage();\n\n                ga('send', 'event', 'Comic', 'page', page);\n\n            }\n\n            state.currentPageId = page;\n            state.currentViewId = view;\n\n            pageViewsData = comic[state.currentPageId - 1].views;\n            currentViewData = pageViewsData[state.currentViewId - 1];\n\n            pageViewCount = pageViewsData.length;\n\n            // Update the links\n            setLinks();\n\n            // Update the DOM\n            updatePage();\n\n            // Load the next image\n            loadImage(state.currentPageId + 1);\n            // Load the previous image\n            loadImage(state.currentPageId - 1);\n\n        };\n\n        /**\n         * Figure out where we are using the hash.\n         */\n        const getLocation = () => {\n\n            const location = window.location.hash.substring(1).split('-');\n\n            let pageId = Number(location[0]) || 1;\n            let viewId = Number(location[1]) || 1;\n\n            let fixHash = false;\n\n            if (comic) {\n\n                if (!comic[pageId - 1]) {\n                    pageId = comic.length;\n                    fixHash = true;\n                }\n\n                if (!comic[pageId - 1].views[viewId - 1]) {\n                    viewId = comic[pageId - 1].views.length;\n                    fixHash = true;\n                }\n\n            }\n\n            if (fixHash) {\n                window.location.hash = `#${pageId}-${viewId}`;\n            } else {\n                setLocation(pageId, viewId);\n            }\n\n        };\n\n\n        /**\n         * Toggle the Dynamic Views and do appropriate cleanup\n         */\n        const toggleDynamicViews = (dynamicViewsState = !state.dynamicViews) => {\n\n            state.dynamicViews = dynamicViewsState;\n\n            if (!state.dynamicViews) {\n\n                comicPositionNode.removeAttribute('style');\n                comicZoomNode.removeAttribute('style');\n\n                toggleDynamicViewsNode.classList.remove('is-active');\n                comicNode.classList.remove('c-comic--theater');\n\n                setCookie('dynamicViewsState', 0);\n\n            } else {\n\n                toggleDynamicViewsNode.classList.add('is-active');\n                comicNode.classList.add('c-comic--theater');\n\n                setCookie('dynamicViewsState', 1);\n\n            }\n\n            getProperties();\n\n            setLocation();\n\n            if (ga && isDesktop()) {\n                ga('send', 'event', 'UX', 'dynamicViews', state.dynamicViews);\n            }\n\n        };\n\n        // Update the location and prevent the hash from messing with things\n        const handleHashchange = (e) => {\n\n            e.preventDefault();\n\n            getLocation();\n\n        };\n\n        const toggleFullscreen = () => {\n\n            if (Modernizr.fullscreen) {\n\n                if (!document.fullscreenElement && // alternative standard method\n                    !document.mozFullScreenElement &&\n                    !document.webkitFullscreenElement &&\n                    !document.msFullscreenElement) {  // current working methods\n\n                    if (comicNode.requestFullscreen) {\n                        comicNode.requestFullscreen();\n                    } else if (comicNode.msRequestFullscreen) {\n                        comicNode.msRequestFullscreen();\n                    } else if (comicNode.mozRequestFullScreen) {\n                        comicNode.mozRequestFullScreen();\n                    } else if (comicNode.webkitRequestFullscreen) {\n                        comicNode.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n                    }\n                } else {\n                    if (document.exitFullscreen) {\n                        document.exitFullscreen();\n                    } else if (document.msExitFullscreen) {\n                        document.msExitFullscreen();\n                    } else if (document.mozCancelFullScreen) {\n                        document.mozCancelFullScreen();\n                    } else if (document.webkitExitFullscreen) {\n                        document.webkitExitFullscreen();\n                    }\n                }\n\n                state.fullscreen = !state.fullscreen;\n\n                if (ga) {\n                    ga('send', 'event', 'UX', 'fullscreen', state.fullscreen);\n                }\n\n            }\n\n        };\n\n\n        //\n        const handleKeydown = () => {\n\n            const LEFT =  37;\n            const RIGHT = 39;\n            const SPACEBAR =  32;\n\n            document.body.onkeydown = (e) => {\n\n                if (e.keyCode === LEFT) {\n\n                    e.preventDefault();\n\n                    if (prevLinkNodeList) {\n                        prevLinkNodeList[0].click();\n                    }\n\n                } else if (e.keyCode === RIGHT || e.keyCode === SPACEBAR) {\n\n                    e.preventDefault();\n\n                    if (nextLinkNodeList) {\n                        nextLinkNodeList[0].click();\n                    }\n\n                }\n\n            };\n\n        };\n\n        // Let's do this sheet\n        const init = () => {\n\n            if (comicNode) {\n\n                getProperties();\n\n                comic = comicData;\n\n                forEach(comicPageImageNodeList, (index, comicPageImageNode) => {\n\n                    const src = comicPageImageNode.getAttribute('data-src');\n\n                    state.images[index + 1] = {\n                        src: src,\n                        node: comicPageImageNode\n                    };\n\n                });\n\n                getLocation();\n\n                loadImage(state.currentPageId);\n\n                handleKeydown();\n\n                toggleDynamicViewsNode.addEventListener('click', () => {\n                    toggleDynamicViews();\n                }, false);\n\n                if (Modernizr.fullscreen) {\n\n                    toggleFullScreenNode.addEventListener('click', () => {\n                        toggleDynamicViews(false);\n                        toggleFullscreen();\n                    }, false);\n\n                }\n\n                window.addEventListener('hashchange', handleHashchange, false);\n\n                window.addEventListener('resize', () => {\n                    getProperties();\n                    updatePage();\n                }, false);\n\n                const hammertime = new Hammer(comicNode);\n\n                hammertime.on('swiperight', () => {\n                    prevLinkNodeList[0].click();\n                });\n\n                hammertime.on('swipeleft tap', () => {\n                    nextLinkNodeList[0].click();\n                });\n\n                if (getCookie('dynamicViewsState') === '1' || !isDesktop()) {\n                    toggleDynamicViews(true);\n                }\n\n                window.requestAnimationFrame(() => {\n                    state.active = true;\n                    comicNode.classList.remove('is-loading');\n                });\n\n            }\n\n        };\n\n        return {\n            state,\n            init,\n        };\n\n    };\n\n\n    const comicNode = document.querySelector('.js-comic');\n\n    if (comicNode) {\n\n        // assign to the window so we can access it ;D\n        window.mainComic = Comic(comicNode);\n\n        mainComic.init();\n\n    }\n\n    document.querySelector('.js-share-facebook').addEventListener('click', () => {\n\n        FB.ui({\n          method: 'share',\n          href: URL,\n        });\n\n        if (ga) {\n            ga('send', 'event', 'Social', 'facebook');\n        }\n\n    });\n\n    document.querySelector('.js-share-twitter').addEventListener('click', () => {\n\n        if (ga) {\n            ga('send', 'event', 'Social', 'twitter');\n        }\n\n    });\n\n\n})(jQuery);\n\n\n\n// WEBPACK FOOTER //\n// ./resources/js/main.js"],"sourceRoot":""}